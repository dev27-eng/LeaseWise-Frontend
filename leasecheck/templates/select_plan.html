{% extends "base.html" %}

{% block title %}Select Plan - LeaseCheck{% endblock %}

{% block extra_css %}
<link rel="preload" href="{{ url_for('static', filename='css/select_plan.css') }}" as="style">
<link rel="stylesheet" href="{{ url_for('static', filename='css/select_plan.css') }}">
{% endblock %}

{% block content %}
<main class="select-plan-screen" role="main">
    <!-- Green header bar -->
    <header class="green-header" role="banner">
        <h1>Select A Plan</h1>
    </header>

    <div class="plan-content">
        <section class="plan-header">
            <h2>Choose Your Plan</h2>
            <h3>All Plans Include:</h3>
            
            <div class="features-list">
                <div class="feature-row">
                    <strong>✓ Risk Analysis:</strong>
                    <span>Spot potential issues and red flags in your lease.</span>
                </div>
                <div class="feature-row">
                    <strong>✓ Easy Navigation:</strong>
                    <span>Enjoy a simple, user-friendly experience with a shareable PDF report.</span>
                </div>
                <div class="feature-row">
                    <strong>✓ Connect with Local Attorneys:</strong>
                    <span>Get referrals to local legal experts if you need more help.</span>
                </div>
            </div>
        </section>

        <!-- Pricing Tiers -->
        <form class="pricing-tiers" action="{{ url_for('main.checkout') }}" method="GET" id="planSelectionForm">
            <!-- Basic Plan -->
            <div class="pricing-card basic">
                <div class="form-check">
                    <input class="form-check-input" type="radio" name="plan" id="basicPlan" value="basic" required>
                    <label class="form-check-label" for="basicPlan">
                        <span class="plan-name">Basic Plan</span>
                        <span class="plan-price">$9.95</span>
                        <div class="plan-features">
                            <ul>
                                <li>1 Lease Analysis</li>
                                <li>Ideal for single lease review</li>
                                <li>Risk Analysis Report</li>
                                <li>PDF Export</li>
                            </ul>
                        </div>
                    </label>
                </div>
            </div>

            <!-- Standard Plan -->
            <div class="pricing-card standard">
                <div class="most-popular-tag" role="status" aria-label="Most popular plan choice">Most Popular</div>
                <div class="form-check">
                    <input class="form-check-input" type="radio" name="plan" id="standardPlan" value="standard" checked>
                    <label class="form-check-label" for="standardPlan">
                        <span class="plan-name">Standard Plan</span>
                        <span class="plan-price">$19.95</span>
                        <div class="plan-features">
                            <ul>
                                <li>3 Lease Analyses</li>
                                <li>Valid for 30 days</li>
                                <li>Compare Multiple Options</li>
                                <li>Priority Support</li>
                            </ul>
                        </div>
                    </label>
                </div>
            </div>

            <!-- Premium Plan -->
            <div class="pricing-card premium">
                <div class="form-check">
                    <input class="form-check-input" type="radio" name="plan" id="premiumPlan" value="premium">
                    <label class="form-check-label" for="premiumPlan">
                        <span class="plan-name">Premium Plan</span>
                        <span class="plan-price">$29.95</span>
                        <div class="plan-features">
                            <ul>
                                <li>6 Lease Analyses</li>
                                <li>Valid for 30 days</li>
                                <li>Best value for multiple reviews</li>
                                <li>Priority Support + Consultation</li>
                            </ul>
                        </div>
                    </label>
                </div>
            </div>

            <button type="submit" class="select-plan-btn">Continue with Selected Plan</button>
        </form>
    </div>
</main>

{% block extra_js %}
<script>
document.addEventListener('DOMContentLoaded', function() {
    const form = document.getElementById('planSelectionForm');
    const plans = document.querySelectorAll('.pricing-card');
    
    plans.forEach(plan => {
        plan.addEventListener('click', function() {
            const radio = this.querySelector('input[type="radio"]');
            radio.checked = true;
        });
    });
});
</script>
{% endblock %}
{% endblock %}
