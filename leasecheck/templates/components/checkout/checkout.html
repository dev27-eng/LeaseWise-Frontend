{% extends "components/base_component.html" %}

{% set component_name = 'checkout' %}
{% set component_title = 'Checkout' %}
{% set header_title = 'Complete Your Purchase' %}

{% block component_content %}
<div class="checkout-container">
    <div class="plan-details">
        <h2>Selected Plan</h2>
        <div class="plan-card">
            <h3>{{ plan.name }}</h3>
            <div class="price">${{ "%.2f"|format(plan.price) }}</div>
            <ul class="features-list">
                {% for feature in plan.features %}
                <li>{{ feature }}</li>
                {% endfor %}
            </ul>
        </div>
    </div>

    <div class="payment-section">
        <h2>Payment Details</h2>
        <form id="payment-form" class="payment-form">
            <div class="form-group">
                <label for="card-name">Name on Card</label>
                <input type="text" id="card-name" required>
            </div>
            
            <div class="form-group">
                <label for="card-number">Card Number</label>
                <div id="card-number" class="card-input"></div>
            </div>

            <div class="form-row">
                <div class="form-group half">
                    <label for="card-expiry">Expiry Date</label>
                    <div id="card-expiry" class="card-input"></div>
                </div>
                
                <div class="form-group half">
                    <label for="card-cvc">CVC</label>
                    <div id="card-cvc" class="card-input"></div>
                </div>
            </div>

            <div id="card-errors" class="error-message" role="alert"></div>

            <div class="action-buttons">
                <button type="submit" class="submit-button">Pay ${{ "%.2f"|format(plan.price) }}</button>
                <a href="{{ url_for('main.select_plan') }}" class="return-button">Return to Plans</a>
            </div>
        </form>
    </div>
</div>
{% endblock %}
