{% extends "components/base_component.html" %}

{% set component_name = 'select_plan' %}
{% set component_title = 'Select Plan' %}
{% set header_title = 'Select A Plan' %}

{% block component_content %}
<div class="select-plan-screen">
    <!-- Green header bar -->
    <header class="green-header" role="banner">
        <h1>Select A Plan</h1>
    </header>

    <div class="plan-content">
        <section class="plan-header">
            <h2>Choose Your Plan</h2>
            <h3>All Plans Include:</h3>
            
            <div class="features-list">
                <div class="feature-row">
                    <strong>✓ Risk Analysis:</strong>
                    <span>Spot potential issues and red flags in your lease.</span>
                </div>
                <div class="feature-row">
                    <strong>✓ Easy Navigation:</strong>
                    <span>Enjoy a simple, user-friendly experience with a shareable PDF report.</span>
                </div>
                <div class="feature-row">
                    <strong>✓ Connect with Local Attorneys:</strong>
                    <span>Get referrals to local legal experts if you need more help.</span>
                </div>
            </div>
        </section>

        <!-- Pricing Tiers -->
        <div class="pricing-tiers">
            {% for plan_id, plan in plans.items() %}
            <div class="pricing-card {{ plan_id }}{% if plan_id == 'standard' %} most-popular{% endif %}">
                {% if plan_id == 'standard' %}
                <div class="most-popular-tag">Most Popular</div>
                {% endif %}
                <div class="form-check">
                    <input class="form-check-input" type="radio" name="plan" id="{{ plan_id }}Plan" value="{{ plan_id }}" 
                           {% if plan_id == 'standard' %}checked{% endif %} required>
                    <label class="form-check-label" for="{{ plan_id }}Plan">
                        <span class="plan-name">{{ plan.name }}</span>
                        <span class="plan-price">${{ "%.2f"|format(plan.price) }}</span>
                        <div class="plan-features">
                            <ul>
                                {% for feature in plan.features %}
                                <li>{{ feature }}</li>
                                {% endfor %}
                            </ul>
                        </div>
                    </label>
                </div>
            </div>
            {% endfor %}
        </div>

        <a href="{{ url_for('main.account_setup') }}" class="select-plan-btn">Continue with Selected Plan</a>
    </div>
</div>
{% endblock %}

{% block extra_js %}
<script src="{{ url_for('static', filename='components/select_plan/select_plan.js') }}" defer></script>
{% endblock %}

{% block extra_css %}
<link rel="stylesheet" href="{{ url_for('static', filename='components/select_plan/select_plan.css') }}">
{% endblock %}
